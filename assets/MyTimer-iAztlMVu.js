import{r as v,k as _,l as h,u,m as y,q as b}from"./index-9m5o9JDJ.js";function T(i,{volume:o=1,playbackRate:s=1,soundEnabled:d=!0,interrupt:p=!1,autoplay:f=!1,onload:c,...n}={}){const t=v(null),l=v(!1),r=v(null),e=v(null);function m(){var a;typeof c=="function"&&c.call(this),r.value=(r.value||((a=e.value)==null?void 0:a.duration())||0)*1e3,f===!0&&(l.value=!0)}return _(async()=>{const a=await h(()=>import("./howler-CCqh-U3u.js").then(w=>w.h),[]);t.value=a.default.Howl,e.value=new t.value({src:u(i),volume:u(o),rate:u(s),onload:m,...n})}),y(()=>[i],()=>{t.value&&t.value&&e&&e.value&&(e.value=new t.value({src:u(i),volume:u(o),rate:u(s),onload:m,...n}))}),y(()=>[u(o),u(s)],()=>{e.value&&(e.value.volume(u(o)),e.value.rate(u(s)))}),{play:a=>{typeof a>"u"&&(a={}),!(!e.value||!d&&!a.forceSoundEnabled)&&(p&&e.value.stop(),a.playbackRate&&e.value.rate(a.playbackRate),e.value.play(a.id),e.value.once("end",()=>{e.value&&e.value&&!e.value.playing()&&(l.value=!1)}),l.value=!0)},sound:e,isPlaying:l,duration:r,pause:a=>{e.value&&(e.value.pause(typeof a=="number"?a:void 0),l.value=!1)},stop:a=>{e.value&&(e.value.stop(typeof a=="number"?a:void 0),l.value=!1)}}}const E="/mobility-vue/assets/countdown-DbKe6yxE.wav",D={__name:"MyTimer",props:{initialTime:{type:Number,default:null}},emits:["done"],setup(i,{expose:o,emit:s}){const{play:d,stop:p}=T(E),f=i,c=s,n=v();let t;function l(e){n.value=e??f.initialTime,t=setInterval(()=>{n.value--,n.value===3&&d(),n.value===0&&(r(),c("done"))},1e3)}function r(){p(),t&&clearInterval(t)}return o({start:l,stop:r}),_(()=>{f.initialTime&&l()}),(e,m)=>b(e.$slots,"default",{time:n.value})}};export{D as _};
